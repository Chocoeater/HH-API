# HH-API

–ü—Ä–æ–µ–∫—Ç –ø–æ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é, –ø–æ—Å–≤—è—â—ë–Ω–Ω—ã–π —Ä–∞–±–æ—Ç–µ —Å API —Å–µ—Ä–≤–∏—Å–∞ HeadHunter, –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∞–∫–∞–Ω—Å–∏—è—Ö –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é –∏—Ö –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü, –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏, –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ REST API –∏ –º–æ–¥—É–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

---
## –°—Ç—ç–∫:
- Python 3.11+
- REST
- requests
- PostgreSQL
- psycopg2
- Poetry
- pytest

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–ü—Ä–æ–µ–∫—Ç —É–º–µ–µ—Ç:

### –ü–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è—Ö –∏ –≤–∞–∫–∞–Ω—Å–∏—è—Ö —á–µ—Ä–µ–∑ HeadHunter API
–ü–æ–ª—É—á–µ–Ω–∏–µ:
- —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É,
- –≤–∞–∫–∞–Ω—Å–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–µ–π.

### –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ –≤ –≤–∏–¥–µ –æ–±—ä–µ–∫—Ç–æ–≤
–ö–ª–∞—Å—Å `Vacancy` —Å–æ–¥–µ—Ä–∂–∏—Ç:
  - –Ω–∞–∑–≤–∞–Ω–∏–µ,
  - –∑–∞—Ä–ø–ª–∞—Ç—É (–æ—Ç/–¥–æ),
  - –æ–ø–∏—Å–∞–Ω–∏–µ,
  - —Å—Å—ã–ª–∫—É,
  - –æ–ø—ã—Ç,
  - —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è.

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ —á–µ—Ä–µ–∑ `__gt__`.

### –§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏
–ú–æ–¥—É–ª—å `utils.py` —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏–∏:

- `filter_vacancies` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É;
- `get_top_vacancies` ‚Äî –≤—ã–≤–æ–¥ —Ç–æ–ø-N –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ;
- `sort_vacancies` ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∑–∞—Ä–ø–ª–∞—Ç–µ;
- `print_vacancies` ‚Äî –∫—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥.

### –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ –≤ PostgreSQL
–ö–ª–∞—Å—Å `DBManager` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
- —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü,
- –≤—Å—Ç–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö,
- –≤—ã–±–æ—Ä–∫–∏.

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `database.ini`.

### –°–æ—Ö—Ä–∞–Ω—è—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ –≤ JSON
–ö–ª–∞—Å—Å `DBSaver` –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:
- `save_to_file` ‚Äî –∑–∞–ø–∏—Å—å –≤ JSON;
- `read_from_file` ‚Äî —á—Ç–µ–Ω–∏–µ –∏–∑ JSON.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

```
src/
‚îú‚îÄ‚îÄ head_hunter_api.py # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API, –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ vacancies.py # –∫–ª–∞—Å—Å Vacancy + –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç
‚îú‚îÄ‚îÄ utils.py # —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥
‚îú‚îÄ‚îÄ dbsaver.py # —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON
‚îú‚îÄ‚îÄ dbmanager.py # –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å PostgreSQL
‚îú‚îÄ‚îÄ config.py # —á—Ç–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
main.py # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
database.ini # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL
test.json # –ø—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö
tests/ # –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (pytest)
```

–í `tests/` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:

- –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ API,
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—Ä–ø–ª–∞—Ç,
- —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ –≤–∞–∫–∞–Ω—Å–∏–π,
- —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

–ó–∞–ø—É—Å–∫:

```bash
pytest
```
---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone https://github.com/Chocoeater/Coursework-3-OOP.git
cd HH-API
```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ß–µ—Ä–µ–∑ Poetry:
```bash
poetry install
```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `database.ini` –≤ –∫–æ—Ä–Ω–µ:
```ini
[postgresql]
host=localhost
user=postgres
password=****
port=5432
dbname=–≤–∞—à–∞_–±–∞–∑–∞
```

4. –ó–∞–ø—É—Å–∫
```bash
python main.py
```
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –≤—ã–±—Ä–∞—Ç—å –ø–æ–∏—Å–∫, —Ñ–∏–ª—å—Ç—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞.

---

## –ü—Ä–∏–º–µ—Ä —Å—Ü–µ–Ω–∞—Ä–∏—è —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Python).

2. –ò–∑ API HH –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª–∏ –∏ –∏—Ö –≤–∞–∫–∞–Ω—Å–∏–∏.

3. –û–±—ä–µ–∫—Ç—ã Vacancy:

  - —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î,

  - –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã –∏ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã,

  - –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ.

4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON.

üèõÔ∏è –û–û–ü-–∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—é (BaseHeadHunterAPI)

- –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (HeadHunterAPI)

- –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—é (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ Vacancy)

- –ü–æ–ª–∏–º–æ—Ä—Ñ–∏–∑–º

- –ü–µ—Ä–µ–≥—Ä—É–∑–∫—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (__gt__)

---

## –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª —Ä–∞–∑–≤–∏—Ç–∏—è:

- —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –æ–ø—ã—Ç—É/–≥–æ—Ä–æ–¥–∞–º,

- –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤,

- ORM (SQLAlchemy),

- –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤,

- CLI-–∫–æ–º–∞–Ω–¥—ã (argparse),

- docker-compose –¥–ª—è –ë–î,

- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.
